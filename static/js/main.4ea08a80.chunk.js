(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){},138:function(e,t){},140:function(e,t){},151:function(e,t){},153:function(e,t){},179:function(e,t){},181:function(e,t){},182:function(e,t){},187:function(e,t){},189:function(e,t){},208:function(e,t){},220:function(e,t){},223:function(e,t){},230:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(36),s=n.n(c),o=(n(125),n(126),n(10)),i=n(118),u=n.n(i),l=function(e){new u.a({text:e,layout:"bottomRight",theme:"nest",type:"alert",timeout:750}).show()},d=n(119),j=n(37),b=n.n(j),h=n(0),O=new d.w3cwebsocket("ws://njs-listener-socket.herokuapp.com");var p=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.data})),n=Object(o.c)((function(e){return e.search})),r=function(){for(var e=["Deepak Jena","Tony Stark","Bruce Wayne","Steven Rogers","Matthew Murdock","Barry Allen","Bruce Banner","Peter Parker","Clark Kent","Frank Castle"],t=["Surat","Chennai","Hyderabad","Nagpur","Lucknow","Pune","Indore","Jaipur","Ludhiana","Agra"],n=["Mumbai","Delhi","Bangalore","Kolkata","Indore","Bhopal","Vadodara","Ghaziabad","Amritsar","Srinagar"],a="",r=0;r<10;r++){var c={name:e[Math.floor(Math.random()*e.length)],origin:t[Math.floor(Math.random()*t.length)],destination:n[Math.floor(Math.random()*n.length)]},s=b.a.createHash("sha256").update(JSON.stringify(c)).digest("hex"),o={name:c.name,origin:c.origin,destination:c.destination,secret_key:s},i=b.a.createCipheriv("aes-256-ctr","12345678123456781234567812345678","1234123412341234"),u=i.update(JSON.stringify(o),"utf-8","hex");u+=i.final("hex"),0===r?a+=u:a=a+"|"+u}console.log(a),O.send(a)};Object(a.useEffect)((function(){O.onopen=function(){console.log("connected to the server")},r(),setInterval(r,1e4)}),[]),O.onmessage=function(t){var n=JSON.parse(t.data);e(function(e){return{type:"ADD_DATA",payload:e}}(n)),console.log(n)},O.onclose=function(){console.log("Client Closed.")};var c=[];return c=""!==n?t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())})):t,Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"heading",children:[Object(h.jsx)("h1",{children:"Home"}),Object(h.jsx)("h2",{onClick:function(){e((l("Logout Successful"),{type:"LOGOUT_USER"}))},children:"LogOut"})]}),Object(h.jsx)("div",{className:"search-container",children:Object(h.jsx)("input",{type:"text",value:n,onChange:function(t){return e({type:"UPDATE_SEARCH",payload:t.target.value})},placeholder:"Search for data using name..."})}),Object(h.jsxs)("table",{className:"results",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Index"}),Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Origin"}),Object(h.jsx)("th",{children:"Destination"})]})}),Object(h.jsx)("tbody",{children:c.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:e.name}),Object(h.jsxs)("td",{children:[e.origin," "]}),Object(h.jsx)("td",{children:e.destination})]},t)}))})]})]})},f=n(20),g=n(4),x=n(21),m=n.n(x),v=n(39),w=n(40),y=n.n(w);var k=function(e){var t=e.setType,n=Object(o.b)(),r=JSON.parse(localStorage.getItem("users"))||[],c=Object(a.useState)({username:"",password:""}),s=Object(f.a)(c,2),i=s[0],u=s[1],d=function(){var e=Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==i.username&&""!==i.password){e.next=3;break}return l("Please fill the values!"),e.abrupt("return");case 3:if(-1!==(t=r.findIndex((function(e){return e.username===i.username})))){e.next=9;break}return l("Invalid Username or password!"),e.abrupt("return");case 9:return e.next=11,y.a.compare(i.password,r[t].password);case 11:if(!e.sent){e.next=17;break}console.log("logged"),n((l("Login Successful"),{type:"LOGIN_USER"})),e.next=19;break;case 17:return l("Invalid Username or password!"),e.abrupt("return");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"login-container",children:[Object(h.jsxs)("div",{className:"contents",children:[Object(h.jsx)("div",{className:"wtext",children:"Welcome Back,"}),Object(h.jsx)("h1",{children:"Log In!"}),Object(h.jsx)("input",{type:"text",value:i.username,onChange:function(e){return u(Object(g.a)(Object(g.a)({},i),{},{username:e.target.value}))},placeholder:"Username"}),Object(h.jsx)("input",{type:"password",value:i.password,onChange:function(e){return u(Object(g.a)(Object(g.a)({},i),{},{password:e.target.value}))},placeholder:"Password"}),Object(h.jsx)("button",{onClick:d,children:"Log In"})]}),Object(h.jsx)("div",{className:"switch",onClick:function(){return t("signup")},children:"Create account"})]})};var S=function(e){var t=e.setType,n=JSON.parse(localStorage.getItem("users"))||[],r=(Object(o.b)(),Object(a.useState)({username:"",password:""})),c=Object(f.a)(r,2),s=c[0],i=c[1],u=function(){var e=Object(v.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==s.username&&""!==s.password){e.next=3;break}return l("please fill all the fields!"),e.abrupt("return");case 3:if(-1!==n.findIndex((function(e){return e.username===s.username}))){e.next=14;break}return e.next=7,y.a.hash(s.password,12);case 7:t=e.sent,a={username:s.username,password:t},n.push(a),localStorage.setItem("users",JSON.stringify(n)),i(Object(g.a)(Object(g.a)({},s),{},{username:"",password:""})),e.next=16;break;case 14:return l("user already exists!"),e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"signup-container",children:[Object(h.jsxs)("div",{className:"contents",children:[Object(h.jsx)("div",{className:"wtext",children:"Hello,"}),Object(h.jsx)("h1",{children:"Create account!"}),Object(h.jsx)("input",{type:"text",value:s.username,onChange:function(e){return i(Object(g.a)(Object(g.a)({},s),{},{username:e.target.value}))},placeholder:"Username"}),Object(h.jsx)("input",{type:"password",value:s.password,onChange:function(e){return i(Object(g.a)(Object(g.a)({},s),{},{password:e.target.value}))},placeholder:"Password"}),Object(h.jsx)("button",{onClick:u,children:"Create account"})]}),Object(h.jsx)("div",{className:"switch",onClick:function(){return t("login")},children:"Log In"})]})};var C=function(){var e=Object(a.useState)("login"),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(h.jsxs)(h.Fragment,{children:["login"===n&&Object(h.jsx)(k,{setType:r}),"signup"===n&&Object(h.jsx)(S,{setType:r})]})};n(228),n(229);var N=function(){var e=Object(o.c)((function(e){return e.isLoggedIn}));return Object(h.jsxs)("div",{className:"App",children:[!1===e&&Object(h.jsx)(C,{}),!0===e&&Object(h.jsx)(p,{})]})},I=n(29),L=n(120),A=n(66),D={data:[],isLoggedIn:!1,search:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:!0});case"LOGOUT_USER":return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:!1});case"ADD_DATA":return Object(g.a)(Object(g.a)({},e),{},{data:[].concat(Object(A.a)(e.data),Object(A.a)(t.payload))});case"UPDATE_SEARCH":return Object(g.a)(Object(g.a)({},e),{},{search:t.payload});default:return e}},U=Object(I.createStore)(T,Object(L.composeWithDevTools)());s.a.render(Object(h.jsx)(o.a,{store:U,children:Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(N,{})})}),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.4ea08a80.chunk.js.map